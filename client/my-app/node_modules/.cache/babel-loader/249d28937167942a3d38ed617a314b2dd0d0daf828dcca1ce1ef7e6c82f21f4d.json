{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Container}from\"react-bootstrap\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import TypeBar from\"../components/TypeBar\";import BrandBar from\"../components/BrandBar\";import DeviceList from\"../components/DeviceList\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{fetchBrands,fetchDevices,fetchTypes}from\"../http/deviceAPI\";import Pages from\"../components/Pages\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=observer(()=>{const{device}=useContext(Context);useEffect(()=>{fetchTypes().then(data=>device.setTypes(data));fetchBrands().then(data=>device.setBrands(data));fetchDevices(null,null,1,8).then(data=>{device.setDevices(data.rows);device.setTotalCount(data.count);});},[]);useEffect(()=>{fetchDevices(device.selectedType.id,device.selectedBrand.id,device.page,8).then(data=>{device.setDevices(data.rows);device.setTotalCount(data.count);});},[device.page,device.selectedType,device.selectedBrand]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(TypeBar,{})}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsx(BrandBar,{}),/*#__PURE__*/_jsx(DeviceList,{}),/*#__PURE__*/_jsx(Pages,{})]})]})});});export default Shop;","map":{"version":3,"names":["React","useContext","useEffect","Container","Row","Col","TypeBar","BrandBar","DeviceList","observer","Context","fetchBrands","fetchDevices","fetchTypes","Pages","jsx","_jsx","jsxs","_jsxs","Shop","device","then","data","setTypes","setBrands","setDevices","rows","setTotalCount","count","selectedType","id","selectedBrand","page","children","className","md"],"sources":["/home/cracker1/Desktop/store/client/my-app/src/pages/Shop.js"],"sourcesContent":["import React, {useContext, useEffect} from 'react';\r\nimport {Container} from \"react-bootstrap\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport TypeBar from \"../components/TypeBar\";\r\nimport BrandBar from \"../components/BrandBar\";\r\nimport DeviceList from \"../components/DeviceList\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {Context} from \"../index\";\r\nimport {fetchBrands, fetchDevices, fetchTypes} from \"../http/deviceAPI\";\r\nimport Pages from \"../components/Pages\";\r\n\r\nconst Shop = observer(() => {\r\n    const {device} = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        fetchTypes().then(data => device.setTypes(data))\r\n        fetchBrands().then(data => device.setBrands(data))\r\n        fetchDevices(null, null, 1, 8).then(data => {\r\n            device.setDevices(data.rows)\r\n            device.setTotalCount(data.count)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchDevices(device.selectedType.id, device.selectedBrand.id, device.page, 8).then(data => {\r\n            device.setDevices(data.rows)\r\n            device.setTotalCount(data.count)\r\n        })\r\n    }, [device.page, device.selectedType, device.selectedBrand,])\r\n\r\n    return (\r\n        <Container>\r\n            <Row className=\"mt-2\">\r\n                <Col md={3}>\r\n                    <TypeBar/>\r\n                </Col>\r\n                <Col md={9}>\r\n                    <BrandBar/>\r\n                    <DeviceList/>\r\n                    <Pages/>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n});\r\n\r\nexport default Shop;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,KAAO,OAAO,CAClD,OAAQC,SAAS,KAAO,iBAAiB,CACzC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,OAAO,KAAO,UAAU,CAChC,OAAQC,WAAW,CAAEC,YAAY,CAAEC,UAAU,KAAO,mBAAmB,CACvE,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,IAAI,CAAGV,QAAQ,CAAC,IAAM,CACxB,KAAM,CAACW,MAAM,CAAC,CAAGnB,UAAU,CAACS,OAAO,CAAC,CAEpCR,SAAS,CAAC,IAAM,CACZW,UAAU,CAAC,CAAC,CAACQ,IAAI,CAACC,IAAI,EAAIF,MAAM,CAACG,QAAQ,CAACD,IAAI,CAAC,CAAC,CAChDX,WAAW,CAAC,CAAC,CAACU,IAAI,CAACC,IAAI,EAAIF,MAAM,CAACI,SAAS,CAACF,IAAI,CAAC,CAAC,CAClDV,YAAY,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC,CAAE,CAAC,CAAC,CAACS,IAAI,CAACC,IAAI,EAAI,CACxCF,MAAM,CAACK,UAAU,CAACH,IAAI,CAACI,IAAI,CAAC,CAC5BN,MAAM,CAACO,aAAa,CAACL,IAAI,CAACM,KAAK,CAAC,CACpC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN1B,SAAS,CAAC,IAAM,CACZU,YAAY,CAACQ,MAAM,CAACS,YAAY,CAACC,EAAE,CAAEV,MAAM,CAACW,aAAa,CAACD,EAAE,CAAEV,MAAM,CAACY,IAAI,CAAE,CAAC,CAAC,CAACX,IAAI,CAACC,IAAI,EAAI,CACvFF,MAAM,CAACK,UAAU,CAACH,IAAI,CAACI,IAAI,CAAC,CAC5BN,MAAM,CAACO,aAAa,CAACL,IAAI,CAACM,KAAK,CAAC,CACpC,CAAC,CAAC,CACN,CAAC,CAAE,CAACR,MAAM,CAACY,IAAI,CAAEZ,MAAM,CAACS,YAAY,CAAET,MAAM,CAACW,aAAa,CAAE,CAAC,CAE7D,mBACIf,IAAA,CAACb,SAAS,EAAA8B,QAAA,cACNf,KAAA,CAACd,GAAG,EAAC8B,SAAS,CAAC,MAAM,CAAAD,QAAA,eACjBjB,IAAA,CAACX,GAAG,EAAC8B,EAAE,CAAE,CAAE,CAAAF,QAAA,cACPjB,IAAA,CAACV,OAAO,GAAC,CAAC,CACT,CAAC,cACNY,KAAA,CAACb,GAAG,EAAC8B,EAAE,CAAE,CAAE,CAAAF,QAAA,eACPjB,IAAA,CAACT,QAAQ,GAAC,CAAC,cACXS,IAAA,CAACR,UAAU,GAAC,CAAC,cACbQ,IAAA,CAACF,KAAK,GAAC,CAAC,EACP,CAAC,EACL,CAAC,CACC,CAAC,CAEpB,CAAC,CAAC,CAEF,cAAe,CAAAK,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}